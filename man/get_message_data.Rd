% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_message_data.R
\name{get_message_data}
\alias{get_message_data}
\title{Retrieve Message Data from RapidPro API}
\usage{
get_message_data(
  rapidpro_site = get_rapidpro_site(),
  token = get_rapidpro_key(),
  call_type = "messages.json",
  filter_variable = "folder",
  filter_variable_value = "flows",
  flatten = FALSE,
  date_from = NULL,
  date_to = NULL,
  format_date = "\%Y-\%m-\%d",
  tzone_date = "UTC"
)
}
\arguments{
\item{rapidpro_site}{A character string specifying the base URL of the RapidPro instance. Defaults to \code{get_rapidpro_site()}.}

\item{token}{A character string specifying the API token for authentication. Defaults to \code{get_rapidpro_key()}.}

\item{call_type}{A character string indicating the type of API call. Default is \code{"messages.json"}.}

\item{filter_variable}{A character string specifying the filtering criterion. Must be one of \code{"folder"}, \code{"contact"}, \code{"label"}, or \code{"broadcast"}. Default is \code{"folder"}.}

\item{filter_variable_value}{A character string specifying the value for the filter variable. If \code{filter_variable = "folder"}, the allowed values are \code{"inbox"}, \code{"flows"}, \code{"archived"}, \code{"outbox"}, \code{"sent"}, or \code{"failed"}. Default is \code{"flows"}.}

\item{flatten}{A logical value indicating whether to flatten the retrieved data. Default is \code{FALSE}.}

\item{date_from}{A character string specifying the start date for filtering messages (in the format specified by \code{format_date}). Default is \code{NULL}, meaning no filtering by start date.}

\item{date_to}{A character string specifying the end date for filtering messages (in the format specified by \code{format_date}). Default is \code{NULL}, meaning no filtering by end date.}

\item{format_date}{A character string specifying the date format used for filtering. Default is \code{"\%Y-\%m-\%d"}.}

\item{tzone_date}{A character string specifying the time zone for date filtering. Default is \code{"UTC"}.}
}
\value{
A tibble containing the retrieved message data, filtered according to the provided criteria.
}
\description{
Fetches message data from the RapidPro API, allowing filtering based on different criteria such as folder, contact, label, or broadcast.
}
\details{
\itemize{
\item Only \strong{one filter} can be applied at a time.
\item The function removes messages with missing UUIDs to ensure data consistency.
}
}
\examples{
# Retrieve messages from the "flows" folder
#get_message_data(filter_variable = "folder", filter_variable_value = "flows")

# Retrieve messages from a specific contact
#get_message_data(filter_variable = "contact", filter_variable_value = "12345")

# Retrieve messages with a specific label
#get_message_data(filter_variable = "label", filter_variable_value = "survey_responses")

# Retrieve messages from a broadcast
#get_message_data(filter_variable = "broadcast", filter_variable_value = "98765")

}
